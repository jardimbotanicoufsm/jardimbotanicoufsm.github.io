"use strict";(globalThis["webpackChunkjardim_botanico"]=globalThis["webpackChunkjardim_botanico"]||[]).push([[967],{1629:(e,t,i)=>{i.d(t,{D:()=>r});i(9665);var n=i(1809),o=i(3340),s=i(7524);const a=s.Z.create({baseURL:"https://api.example.com"}),l=((0,o.xr)((({app:e})=>{e.config.globalProperties.$axios=s.Z,e.config.globalProperties.$api=a})),(0,n.Q_)("googleApi",{state:()=>({spreadsheetId:"15pkvRPsPOIQJEe2hKn9XCHuKHQ5buoL2QiQnRJHu4yI",apiKey:"AIzaSyA_LT1DlQ_iArm1fGqxIK-YpjAOUSoZgZo"}),getters:{},actions:{}})),r=(0,n.Q_)("arrays",{state:()=>({pointsOfInterest:[],pointsOfInterestLoaded:!1,collection:[],collectionLoaded:!1,hikingTrails:[],hikingTrailsLoaded:!1,googleApi:l()}),getters:{},actions:{addToPointsOfInterest(e){this.pointsOfInterest.push(e)},addToCollection(e){this.collection.push(e)},addToHikingTrails(e){this.hikingTrails.push(e)},async loadPointsOfInterest(){if(!0===this.pointsOfInterestLoaded)return;const e=await this.readSheet("pontos_interesse");this.handlePointOfInterestSpreadsheetData(e),this.pointsOfInterestLoaded=!0},async loadCollection(){if(!0===this.collectionLoaded)return;const e=await this.readSheet("acervo");this.handleCollectionSpreadsheetData(e),this.collectionLoaded=!0},async loadHikingTrails(){if(!0===this.hikingTrailsLoaded)return;const e=await this.readSheet("trilhas");this.handleHikingTrailsSpreadsheetData(e),this.hikingTrailsLoaded=!0},async loadHikingTrailPoints(e){if(null==e)return;var t=this.hikingTrails.find((t=>t.id===e));if(null==t||!0===t.pointsLoaded)return;const i=await this.readSheet("pontos_trilha");this.handleHikingTrailPointsSpreadsheetData(t,i),t.pointsLoaded=!0},async readSheet(e){const t=`https://sheets.googleapis.com/v4/spreadsheets/${this.googleApi.spreadsheetId}/values/${e}?key=${this.googleApi.apiKey}`,i=await a.get(t);return i.data&&i.data.values?i.data.values:[]},handlePointOfInterestSpreadsheetData(e){const t=e[0],i=e.slice(1);i.forEach((e=>{const i={};e.forEach(((e,n)=>{i[t[n]]=e})),null!=i.id&&null!=i.categoria&&null!=i.nome&&null!=i.latitude&&null!=i.longitude&&(i.links=this.handleLinks(i.generic_links,i.drive_links),this.addToPointsOfInterest(i))}))},handleCollectionSpreadsheetData(e){const t=e[0],i=e.slice(1);i.forEach((e=>{const i={};e.forEach(((e,n)=>{i[t[n]]=e})),null!=i.id&&null!=i.nome&&(i.links=this.handleLinks(i.generic_links,i.drive_links),this.addToCollection(i))}))},handleHikingTrailsSpreadsheetData(e){const t=e[0],i=e.slice(1);i.forEach((e=>{const i={};e.forEach(((e,n)=>{i[t[n]]=e})),null!=i.id&&null!=i.nome&&(i.pointsLoaded=!1,i.points=[],this.addToHikingTrails(i))}))},handleHikingTrailPointsSpreadsheetData(e,t){const i=t[0],n=t.slice(1);n.forEach((t=>{const n={};t.forEach(((e,t)=>{n[i[t]]=e})),[n.trilha_id,n.latitude,n.longitude,n.ordem].some((e=>null==e))||n.trilha_id==e.id&&e.points.push(n)})),e.points.sort(((e,t)=>e.ordem-t.ordem))},handleLinks(e,t){if(null==e&&null==t)return null;let i=[];return null!=e&&e.split(";").forEach((e=>{i.push(e.trim())})),null!=t&&t.split(";").forEach((e=>{let t=e.split("/")[5];i.push("https://lh3.googleusercontent.com/d/"+t)})),i}}})},7967:(e,t,i)=>{i.r(t),i.d(t,{default:()=>v});var n=i(9835);const o={class:"q-pl-md q-pr-md"},s=(0,n._)("h5",null,"Acervo",-1);function a(e,t,i,a,l,r){const d=(0,n.up)("CollectionList");return(0,n.wg)(),(0,n.iD)("div",o,[s,(0,n.Wm)(d)])}function l(e,t,i,o,s,a){const l=(0,n.up)("CollectionListItem"),r=(0,n.up)("q-list");return(0,n.wg)(),(0,n.j4)(r,{bordered:"",separator:""},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.arrays.collection,(e=>((0,n.wg)(),(0,n.j4)(l,(0,n.dG)(e,{key:e.nome}),null,16)))),128))])),_:1})}var r=i(1629),d=i(6970);function c(e,t,i,o,s,a){const l=(0,n.up)("q-item-label"),r=(0,n.up)("q-item-section"),c=(0,n.up)("q-item");return(0,n.wg)(),(0,n.j4)(c,null,{default:(0,n.w5)((()=>[(0,n.Wm)(r,null,{default:(0,n.w5)((()=>[(0,n.Wm)(l,null,{default:(0,n.w5)((()=>[(0,n.Uk)((0,d.zw)(e.nome),1)])),_:1}),(0,n.Wm)(l,{caption:""},{default:(0,n.w5)((()=>[(0,n.Uk)("Outros nomes: "+(0,d.zw)(e.outros_nomes),1)])),_:1}),(0,n.Wm)(l,{caption:""},{default:(0,n.w5)((()=>[(0,n.Uk)("Classificação: "+(0,d.zw)(e.classificacao),1)])),_:1}),(0,n.Wm)(l,{caption:""},{default:(0,n.w5)((()=>[(0,n.Uk)("Origem: "+(0,d.zw)(e.origem),1)])),_:1})])),_:1})])),_:1})}const h=(0,n.aZ)({name:"CollectionListItem",props:{id:{type:Number,required:!0},nome:{type:String,required:!0},classificacao:{type:String,required:!1},origem:{type:String,required:!1},outros_nomes:{type:String,required:!1}}});var u=i(1639),p=i(490),g=i(1233),m=i(3115),f=i(9984),k=i.n(f);const L=(0,u.Z)(h,[["render",c]]),_=L;k()(h,"components",{QItem:p.Z,QItemSection:g.Z,QItemLabel:m.Z});const w=(0,n.aZ)({name:"CollectionList",components:{CollectionListItem:_},data(){return{arrays:(0,r.D)()}},beforeMount(){this.arrays.loadCollection()}});var T=i(3246);const I=(0,u.Z)(w,[["render",l]]),y=I;k()(w,"components",{QList:T.Z});const S=(0,n.aZ)({name:"CollectionListPage",components:{CollectionList:y}}),C=(0,u.Z)(S,[["render",a]]),v=C}}]);